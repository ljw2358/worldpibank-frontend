<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover"/>
  <title>ì›”ë“œíŒŒì´ì€í–‰ â€¢ World Pi Bank</title>

  <meta name="theme-color" content="#8a7aff">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="apple-mobile-web-app-title" content="ì›”ë“œíŒŒì´ì€í–‰">

  <style>
    :root{--bg:#1b1530;--panel:#241d46;--line:#3b2d70;--txt:#fff;--muted:#cfc7ff;--accent:#8a7aff;--accent2:#b9a6ff}
    *{box-sizing:border-box;margin:0;padding:0}
    body{background:var(--bg);color:var(--txt);font-family:system-ui,-apple-system,Segoe UI,Roboto,"Noto Sans KR","Noto Sans SC",Arial;text-align:center;-webkit-text-size-adjust:100%}
    .wrap{max-width:560px;margin:0 auto;padding:0 14px 64px}
    .lang{position:fixed;top:12px;right:14px;display:flex;gap:6px;z-index:10}
    .lang button{padding:4px 8px;border-radius:6px;border:1px solid var(--accent);background:transparent;color:var(--accent);font-size:11px;cursor:pointer}
    .lang button.active{background:var(--accent);color:#0f0b1e;font-weight:700}
    h1{margin-top:44px;font-size:clamp(18px,5vw,22px);font-weight:900;white-space:nowrap}
    #t_sub{margin:8px 0 20px;font-size:clamp(12px,3.5vw,14px);line-height:1.3;word-break:keep-all}
    .logo{margin:16px auto 20px;width:80px;height:80px;border-radius:50%;display:flex;align-items:center;justify-content:center;background:radial-gradient(circle at 30% 30%,#b9a6ff,#8a7aff);font-size:32px;font-weight:900;color:#0f0b1e}
    .grid{display:grid;gap:10px}
    .card{background:var(--panel);border:1px solid var(--line);border-radius:14px;padding:12px;text-align:left}
    .row{display:flex;justify-content:space-between;align-items:center}
    .label{font-size:14px;font-weight:700}
    .badge{font-size:10px;padding:3px 6px;border-radius:999px;background:var(--accent);color:#0f0b1e;font-weight:700}
    .desc{margin-top:8px;font-size:12px;color:#cfc7ff;word-break:keep-all}
    .cta{display:flex;gap:6px;margin-top:10px;justify-content:center;flex-wrap:wrap}
    .btn{padding:6px 10px;border-radius:8px;font-weight:700;border:0;font-size:11px;cursor:pointer}
    .primary{background:var(--accent);color:#0f0b1e}
    .ghost{background:transparent;border:1px solid var(--accent2);color:var(--accent2)}
    footer{margin:40px 0 20px;font-size:clamp(10px,2.8vw,12px);color:#cfc7ff;white-space:nowrap}

    /* ì„¤ì¹˜ ë°°ë„ˆ */
    #installBar{position:fixed;bottom:0;left:0;right:0;background:var(--accent);color:#0f0b1e;padding:12px;display:none;justify-content:space-between;align-items:center;font-size:14px;z-index:999}
    #btnInstall{background:#0f0b1e;color:#fff;border:0;padding:6px 12px;border-radius:6px;font-weight:700;cursor:pointer;display:none}
  </style>
</head>
<body>
  <!-- ì–¸ì–´ ì„ íƒ -->
  <div class="lang">
    <button id="btn-ko" data-lang="ko">KR</button>
    <button id="btn-en" data-lang="en">EN</button>
    <button id="btn-zh" data-lang="zh">ä¸­æ–‡</button>
  </div>

  <div class="wrap">
    <h1 id="t_title">ì›”ë“œíŒŒì´ì€í–‰</h1>
    <p id="t_sub">ì„œë¯¼ê³¼ ëª¨ë‘ë¥¼ ìœ„í•œ ë””ì§€í„¸&nbsp;ì€í–‰</p>
    <div class="logo">Ï€</div>

    <section class="grid">
      <article class="card">
        <div class="row"><div class="label" id="t_pay">ì†¡ê¸ˆ / ê²°ì œ</div><span class="badge" id="b1">LIVE</span></div>
        <p class="desc" id="t_pay_desc">ë¹ ë¥´ê³  ì•ˆì „í•œ ê²°ì œì™€ P2P ì†¡ê¸ˆ.</p>
      </article>
      <article class="card">
        <div class="row"><div class="label" id="t_reward">ë¦¬ì›Œë“œ</div><span class="badge" id="b2">POINTS</span></div>
        <p class="desc" id="t_reward_desc">ì°¸ì—¬Â·ë¯¸ì…˜ìœ¼ë¡œ í¬ì¸íŠ¸ ì ë¦½, ì„œë¯¼ê³¼ í•¨ê»˜ ì„±ì¥.</p>
      </article>
      <article class="card">
        <div class="row"><div class="label" id="t_stake">ì˜ˆì¹˜ (Staking)</div><span class="badge" id="b3">APY 31.4%</span></div>
        <p class="desc" id="t_stake_desc">ìœ ì—°í•œ ê¸°ê°„, íˆ¬ëª…í•œ ê¸ˆë¦¬. ì˜ˆì¹˜ë¡œ ìˆ˜ìµì„ ë§Œë“œì„¸ìš”.</p>
      </article>
      <article class="card">
        <div class="row"><div class="label" id="t_ubi">UBI (ê¸°ë³¸ì†Œë“)</div><span class="badge" id="b4">BETA</span></div>
        <p class="desc" id="t_ubi_desc">ë…¸ë™ìÂ·ì„œë¯¼ë„ í•¨ê»˜ ëˆ„ë¦¬ëŠ” ë””ì§€í„¸ ê¸°ë³¸ì†Œë“.</p>
      </article>
      <article class="card">
        <div class="row"><div class="label" id="t_support">ê³ ê°ì„¼í„°</div><span class="badge" id="b5">HELP</span></div>
        <p class="desc" id="t_support_desc">ê³„ì •Â·ë³´ì•ˆ ë¬¸ì œ í•´ê²°, ì˜ê²¬ ì ‘ìˆ˜.</p>
      </article>
      <article class="card">
        <div class="row"><div class="label" id="t_faq">FAQ / ë³´ì•ˆ</div><span class="badge" id="b6">OPEN</span></div>
        <p class="desc" id="t_faq_desc">í•´í‚¹ ë°©ì§€, KYC ê²€ì¦, ìì£¼ ë¬»ëŠ” ì§ˆë¬¸.</p>
        <div class="cta">
          <button class="btn primary" id="t_btn_faq">Open FAQ</button>
          <button class="btn ghost" id="t_btn_demo">ë°ëª¨ ë³´ê¸°</button>
        </div>
      </article>
    </section>

    <footer id="t_footer">Â© 2025 ì›”ë“œíŒŒì´ì€í–‰ â€¢ Build v28b</footer>
  </div>

  <!-- ì„¤ì¹˜ ë°°ë„ˆ -->
  <div id="installBar">
    <span id="t_banner">ğŸ“² ì›”ë“œíŒŒì´ì€í–‰ì„ ì„¤ì¹˜í•˜ì‹œê² ìŠµë‹ˆê¹Œ?</span>
    <button id="btnInstall">ì„¤ì¹˜</button>
  </div>

<script>
/* ===== í™˜ê²½ ê°ì§€ ===== */
const UA = navigator.userAgent || "";
const isAndroid = /Android/i.test(UA);
const isChrome = /Chrome\/\d+/i.test(UA) && /Google/i.test(navigator.vendor||"");
const isEdge = /Edg\//i.test(UA);
const isSamsung = /SamsungBrowser/i.test(UA);
const isPi = /PiBrowser/i.test(UA);
const isIOS = /iPhone|iPad|iPod/i.test(UA);
const isDesktop = !/Mobi|Android|iPhone|iPad|iPod/i.test(UA);

/* ===== ë‹¤êµ­ì–´ ë¦¬ì†ŒìŠ¤ ===== */
const L={
  ko:{title:"ì›”ë“œíŒŒì´ì€í–‰",sub:"ì„œë¯¼ê³¼ ëª¨ë‘ë¥¼ ìœ„í•œ ë””ì§€í„¸&nbsp;ì€í–‰",footer:"Â© 2025 ì›”ë“œíŒŒì´ì€í–‰ â€¢ ëª¨ë‘ë¥¼ ìœ„í•œ ì€í–‰",
      bannerInstall:"ğŸ“² ì›”ë“œíŒŒì´ì€í–‰ì„ ì„¤ì¹˜í•˜ì‹œê² ìŠµë‹ˆê¹Œ?", install:"ì„¤ì¹˜",
      bannerGuideMobile:"ğŸ“² ì´ ë¸Œë¼ìš°ì €ì—ì„œëŠ” â€˜í™ˆ í™”ë©´ì— ì¶”ê°€â€™ë¡œ ì„¤ì¹˜í•˜ì„¸ìš”.",
      bannerGuidePi:"ğŸ“² Pi Browser: ë©”ë‰´ì—ì„œ â€˜í™ˆ í™”ë©´ì— ì¶”ê°€â€™ë¡œ ì„¤ì¹˜í•˜ì„¸ìš”.",
      bannerGuideDesktop:"ğŸ’¡ PCì—ì„œëŠ” ì£¼ì†Œì°½ì˜ â€˜+â€™ ë²„íŠ¼ ë˜ëŠ” ë¸Œë¼ìš°ì € ë©”ë‰´ë¡œ ì„¤ì¹˜í•  ìˆ˜ ìˆì–´ìš”."},
  en:{title:"World Pi Bank",sub:"A digital&nbsp;bank for everyone",footer:"Â© 2025 World Pi Bank â€¢ A bank for everyone",
      bannerInstall:"ğŸ“² Install World Pi Bank?", install:"Install",
      bannerGuideMobile:"ğŸ“² In this browser, use â€œAdd to Home Screenâ€.",
      bannerGuidePi:"ğŸ“² Pi Browser: use â€œAdd to Home Screenâ€.",
      bannerGuideDesktop:"ğŸ’¡ On desktop, click the â€˜+â€™ icon in the address bar to install."},
  zh:{title:"ä¸–ç•ŒPié“¶è¡Œ",sub:"ä¸ºæ‰€æœ‰äººæä¾›çš„æ•°å­—é“¶è¡Œ",footer:"Â© 2025 ä¸–ç•ŒPié“¶è¡Œ â€¢ å±äºæ‰€æœ‰äººçš„é“¶è¡Œ",
      bannerInstall:"ğŸ“² è¦å®‰è£…ä¸–ç•ŒPié“¶è¡Œå—ï¼Ÿ", install:"å®‰è£…",
      bannerGuideMobile:"ğŸ“² åœ¨æ­¤æµè§ˆå™¨ä¸­ï¼Œè¯·ä½¿ç”¨â€œæ·»åŠ åˆ°ä¸»å±å¹•â€ã€‚",
      bannerGuidePi:"ğŸ“² Pi æµè§ˆå™¨ï¼šè¯·ä½¿ç”¨â€œæ·»åŠ åˆ°ä¸»å±å¹•â€ã€‚",
      bannerGuideDesktop:"ğŸ’¡ åœ¨ç”µè„‘ç«¯ï¼Œè¯·ç‚¹å‡»åœ°å€æ çš„ â€œ+â€ å›¾æ ‡è¿›è¡Œå®‰è£…ã€‚"}
};

function applyLang(code){
  const P=L[code]||L.ko;
  document.documentElement.lang=(code==="zh"?"zh":code==="en"?"en":"ko");
  t_title.textContent=P.title;
  t_sub.innerHTML=P.sub;
  t_footer.innerHTML=P.footer+" â€¢ Build v28b";
  t_btn_faq.textContent=(code==="ko"?"Open FAQ":code==="zh"?"æ‰“å¼€ FAQ":"Open FAQ");
  t_btn_demo.textContent=(code==="ko"?"ë°ëª¨ ë³´ê¸°":code==="zh"?"æŸ¥çœ‹æ¼”ç¤º":"View Demo");

  // ë°°ë„ˆ ë¬¸êµ¬ ê¸°ë³¸ê°’(í™˜ê²½ ì•ˆë‚´)
  let guide = P.bannerGuideMobile;
  if (isDesktop) guide = P.bannerGuideDesktop;
  if (isPi) guide = P.bannerGuidePi;
  t_banner.textContent = guide;
}
applyLang("ko");
btn-ko.onclick=()=>applyLang("ko");
btn-en.onclick=()=>applyLang("en");
btn-zh.onclick=()=>applyLang("zh");

/* ===== manifest & ì•„ì´ì½˜(ë‹¨ì¼íŒŒì¼) ===== */
(function(){
  const makeIcon=(s)=>{
    const c=document.createElement("canvas");c.width=c.height=s;
    const ctx=c.getContext("2d"), r=s/2;
    const g=ctx.createRadialGradient(r*0.7,r*0.7,s*0.1,r,r,r);
    g.addColorStop(0,"#b9a6ff"); g.addColorStop(1,"#8a7aff");
    ctx.fillStyle=g; ctx.beginPath(); ctx.arc(r,r,r,0,Math.PI*2); ctx.fill();
    ctx.fillStyle="#0f0b1e"; ctx.font=`${Math.round(s*0.55)}px system-ui`;
    ctx.textAlign="center"; ctx.textBaseline="middle"; ctx.fillText("Ï€",r,r+s*0.03);
    return c.toDataURL("image/png");
  };
  const icon192=makeIcon(192), icon512=makeIcon(512);
  const manifest={name:"ì›”ë“œíŒŒì´ì€í–‰ â€¢ World Pi Bank",short_name:"ì›”ë“œíŒŒì´ì€í–‰",start_url:".",display:"standalone",background_color:"#1b1530",theme_color:"#8a7aff",
    icons:[{src:icon192,sizes:"192x192",type:"image/png"},{src:icon512,sizes:"512x512",type:"image/png"}]};
  const blob=new Blob([JSON.stringify(manifest)],{type:"application/json"});
  const url=URL.createObjectURL(blob);
  const link=document.createElement("link");link.rel="manifest";link.href=url;document.head.appendChild(link);
  [["icon",icon192,"192x192"],["icon",icon512,"512x512"],["apple-touch-icon",icon512]].forEach(([rel,src,s])=>{
    const l=document.createElement("link");l.rel=rel;l.href=src;if(s)l.sizes=s;l.type="image/png";document.head.appendChild(l);
  });
})();

/* ===== ì„¤ì¹˜ ë°°ë„ˆ ì²˜ë¦¬ ===== */
let deferredPrompt;
window.addEventListener('beforeinstallprompt',(e)=>{
  e.preventDefault();
  deferredPrompt=e;
  // ì´ë²¤íŠ¸ê°€ ì˜¤ë©´ ì„¤ì¹˜ ë²„íŠ¼ê¹Œì§€ ë…¸ì¶œ
  installBar.style.display="flex";
  btnInstall.style.display="inline-block";
  const lang=document.documentElement.lang;
  const P = (lang==="zh"?L.zh:(lang==="en"?L.en:L.ko));
  t_banner.textContent = P.bannerInstall;
});
btnInstall.addEventListener("click", async ()=>{
  if(deferredPrompt){
    deferredPrompt.prompt();
    await deferredPrompt.userChoice;
    deferredPrompt=null;
    installBar.style.display="none";
  }
});

// ì´ë²¤íŠ¸ê°€ ì—†ì–´ë„(ì¼ë¶€ ë¸Œë¼ìš°ì €/PC) ì•ˆë‚´ ë°°ë„ˆëŠ” ë³´ì—¬ì¤Œ
window.addEventListener('load', ()=>{ installBar.style.display="flex"; });

/* ===== sw.js (ë™ì  ìƒì„±/ë“±ë¡) ===== */
if('serviceWorker' in navigator){
  const swCode=`self.addEventListener("install",()=>self.skipWaiting());self.addEventListener("activate",()=>self.clients.claim());`;
  const blob=new Blob([swCode],{type:"text/javascript"});
  const swURL=URL.createObjectURL(blob);
  navigator.serviceWorker.register(swURL).catch(console.warn);
}

/* ë°ëª¨ ë²„íŠ¼ */
t_btn_faq.onclick=()=>alert("FAQëŠ” ê³§ ì—°ê²°ë©ë‹ˆë‹¤. (ë³´ì•ˆÂ·KYCÂ·í•´í‚¹ í”¼í•´ ì˜ˆë°© ì•ˆë‚´)");
t_btn_demo.onclick=()=>alert("ì •ì  ë°ëª¨ í™”ë©´ì…ë‹ˆë‹¤.");
</script>
</body>
</html>
