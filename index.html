<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>WorldPiBank Â· Global Digital Bank</title>
<meta name="color-scheme" content="light dark" />
<style>
  :root{
    --bg:#0f0a1f;
    --card:#1b1336;
    --accent:#7a5cff;
    --accent-2:#b39cff;
    --text:#f5f4ff;
    --muted:#cfc9ffbb;
    --ok:#2ecc71;
    --warn:#ffcc00;
    --danger:#ff5c7a;
    --shadow: 0 10px 30px rgba(0,0,0,.35);
    --radius: 22px;
  }
  *{box-sizing:border-box}
  html,body{height:100%}
  body{
    margin:0; font-family: system-ui, -apple-system, "Segoe UI", Roboto, Apple SD Gothic Neo, "Noto Sans KR", "PingFang SC", "Microsoft Yahei", Helvetica, Arial, sans-serif;
    background: radial-gradient(1200px 800px at 70% -10%, #2a1c5f 0%, #150f2c 40%, var(--bg) 80%) fixed, var(--bg);
    color:var(--text);
  }
  .wrap{min-height:100%; display:flex; flex-direction:column; align-items:center}
  header{
    width:100%; max-width:1100px; padding:22px 18px; margin:0 auto;
    display:flex; align-items:center; justify-content:space-between; gap:12px;
  }
  .brand{
    display:flex; align-items:center; gap:12px; font-weight:700; letter-spacing:.2px;
  }
  .brand .dot{width:10px; height:10px; border-radius:50%; background:var(--accent); box-shadow:0 0 20px var(--accent)}
  .lang{
    display:flex; gap:8px; align-items:center; flex-wrap:wrap;
  }
  .lang button{
    appearance:none; border:1px solid #ffffff22; background:#ffffff10; color:var(--text);
    padding:8px 12px; border-radius:12px; cursor:pointer; backdrop-filter: blur(6px);
  }
  .lang button[aria-pressed="true"]{border-color:var(--accent); box-shadow:0 0 0 2px #7a5cff40 inset}
  .hero{
    width:100%; max-width:1100px; padding:16px; margin:6px auto 8px;
    display:grid; grid-template-columns: 1fr; gap:18px; align-items:center;
  }
  .title{
    text-align:center; line-height:1.15;
  }
  .title h1{
    margin:.15em 0 6px; font-size: clamp(28px, 4.2vw, 46px);
    font-weight:900;
    background: linear-gradient(90deg, #fff, #d8d1ff, #b39cff);
    -webkit-background-clip:text; background-clip:text; color:transparent;
    text-shadow: 0 8px 24px #7a5cff22;
  }
  .title p{
    margin:0; font-size: clamp(14px, 2.2vw, 18px); color:var(--muted)
  }
  .centerpiece{
    display:flex; align-items:center; justify-content:center; padding:4px;
  }
  .orb{
    width:min(68vw, 340px); height:min(68vw, 340px);
    border-radius:50%;
    background: radial-gradient(60% 60% at 50% 40%, #2e1b66 0%, #1b1336 55%, #130e27 100%);
    box-shadow: inset 0 12px 30px #7a5cff30, 0 30px 80px #00000080, 0 0 0 1px #ffffff10;
    display:grid; place-items:center; position:relative;
  }
  .orb::after{
    content:""; position:absolute; inset:-2px; border-radius:50%;
    background: conic-gradient(from 200deg, #7a5cff, transparent 20%, transparent 60%, #b39cff, transparent 85%);
    filter: blur(18px); opacity:.35; z-index:0;
  }
  .pi{
    position:relative; z-index:1; width:58%; aspect-ratio:1/1; display:grid; place-items:center;
  }
  .pi svg{width:100%; height:100%; filter: drop-shadow(0 8px 14px #7a5cff50)}
  .under-tag{
    margin:14px auto 0; text-align:center; color:var(--muted); font-size:14px;
  }
  .grid{
    width:100%; max-width:1100px; padding:8px 16px 28px;
    display:grid; gap:14px; grid-template-columns: repeat(2, 1fr);
  }
  @media (min-width:760px){ .hero{grid-template-columns: 1.1fr .9fr} .grid{grid-template-columns: repeat(3, 1fr)} }
  .card{
    background: linear-gradient(180deg, #211744 0%, #1b1336 60%);
    border:1px solid #ffffff12;
    border-radius: var(--radius);
    padding:16px; box-shadow: var(--shadow); min-height:104px;
    display:flex; flex-direction:column; justify-content:center; gap:8px;
    transition: transform .2s ease, border-color .2s ease;
  }
  .card:hover{ transform: translateY(-4px); border-color:#7a5cff44 }
  .card h3{margin:0; font-size:18px}
  .card p{margin:0; font-size:13px; color:var(--muted)}
  .badge{display:inline-block; font-size:12px; padding:2px 8px; border-radius:999px; background:#ffffff14; border:1px solid #ffffff22}
  footer{
    width:100%; max-width:1100px; margin:8px auto 40px; padding:0 16px; color:#bfb8ff99; font-size:12px; text-align:center
  }
  /* Floating Chat / FAQ */
  .chat{
    position: fixed; right: 16px; bottom: 16px; z-index: 50;
  }
  .chat button.toggler{
    width:58px; height:58px; border-radius:50%; border:none; cursor:pointer;
    background: radial-gradient(100% 100% at 30% 20%, #8b74ff 0%, #7a5cff 45%, #5b3bff 100%);
    color:white; font-size:22px; box-shadow: var(--shadow);
  }
  .panel{
    position: absolute; right:0; bottom:72px; width:min(92vw, 420px);
    background:#1a1434; border:1px solid #ffffff22; border-radius:18px;
    box-shadow: var(--shadow); overflow:hidden; display:none; max-height:68vh
  }
  .panel.open{display:block}
  .panel header{
    padding:12px 14px; background:#221949; border-bottom:1px solid #ffffff1a;
    display:flex; align-items:center; justify-content:space-between;
  }
  .panel header h4{margin:0; font-size:14px}
  .tabs{display:flex; gap:6px; padding:10px 12px; border-bottom:1px solid #ffffff10; background:#1f1841}
  .tabs button{
    border:none; background:#ffffff12; color:var(--text); padding:8px 10px; border-radius:10px; cursor:pointer; font-size:12px
  }
  .tabs button[aria-pressed="true"]{background:#7a5cff33; outline:1px solid #7a5cff66}
  .content{padding:12px; overflow:auto; max-height:48vh}
  .faq-item{margin:0 0 12px; background:#ffffff07; border:1px solid #ffffff14; border-radius:12px; padding:10px}
  .faq-item summary{cursor:pointer; font-weight:700}
  .note{font-size:12px; color:var(--muted)}
  .row{display:flex; gap:8px; align-items:center; flex-wrap:wrap}
  .sr-only{position:absolute !important; width:1px; height:1px; padding:0; margin:-1px; overflow:hidden; clip:rect(0,0,0,0); white-space:nowrap; border:0}
  a.cta{
    display:inline-flex; align-items:center; gap:8px; padding:10px 14px; border-radius:12px; border:1px solid #ffffff22; text-decoration:none; color:var(--text); background:#ffffff10
  }
</style>
</head>
<body>
<div class="wrap">
  <header>
    <div class="brand" aria-label="brand">
      <span class="dot" aria-hidden="true"></span>
      <span id="brandName">WorldPiBank</span>
    </div>
    <div class="lang" role="group" aria-label="language">
      <button class="lng" data-lng="en" aria-pressed="true">EN</button>
      <button class="lng" data-lng="kr" aria-pressed="false">KR</button>
      <button class="lng" data-lng="zh" aria-pressed="false">ä¸­æ–‡</button>
    </div>
  </header>

  <section class="hero">
    <div class="title">
      <h1 id="t_main">World Pi Bank</h1>
      <p id="t_sub">The worldâ€™s first digital bank</p>
    </div>
    <div class="centerpiece">
      <div class="orb" aria-label="Pi emblem">
        <div class="pi" title="Pi">
          <!-- Pi logo (SVG, brand-safe, simple) -->
          <svg viewBox="0 0 200 200" role="img" aria-labelledby="piTitle">
            <title id="piTitle">Pi Symbol</title>
            <defs>
              <linearGradient id="g" x1="0" x2="1" y1="0" y2="1">
                <stop offset="0" stop-color="#ffcc66"/>
                <stop offset="1" stop-color="#ff9f3c"/>
              </linearGradient>
            </defs>
            <circle cx="100" cy="100" r="92" fill="#2a1c5f" stroke="url(#g)" stroke-width="4"/>
            <path d="M70 68h-20a6 6 0 1 1 0-12h100a6 6 0 1 1 0 12h-20v72a18 18 0 0 1-36 0V92h-8v48a18 18 0 0 1-36 0V68Z"
                  fill="url(#g)"/>
          </svg>
        </div>
      </div>
    </div>
    <div class="under-tag" id="t_tag">Built on the Pi ecosystem</div>
  </section>

  <section class="grid" aria-label="features">
    <!-- Send -->
    <article class="card">
      <div class="row">
        <span class="badge" id="b1">Core</span>
      </div>
      <h3 id="f1">Send</h3>
      <p id="d1">Fast peer-to-peer transfers with low friction.</p>
    </article>
    <!-- Pay -->
    <article class="card">
      <div class="row">
        <span class="badge" id="b2">Commerce</span>
      </div>
      <h3 id="f2">Pay</h3>
      <p id="d2">Simple in-store and online checkout flows.</p>
    </article>
    <!-- Rewards -->
    <article class="card">
      <div class="row">
        <span class="badge" id="b3">Growth</span>
      </div>
      <h3 id="f3">Rewards</h3>
      <p id="d3">Earn points and bonuses for activity.</p>
    </article>
    <!-- Staking / Deposit -->
    <article class="card">
      <div class="row">
        <span class="badge" id="b4">Yield</span>
      </div>
      <h3 id="f4">Staking <span class="note" id="f4_small">(Deposit Â· APY:%)</span></h3>
      <p id="d4">Flexible terms; clear, transparent rates.</p>
    </article>
    <!-- UBI -->
    <article class="card">
      <div class="row">
        <span class="badge" id="b5">Equity</span>
      </div>
      <h3 id="f5">UBI</h3>
      <p id="d5">Human-centric basic income experiences.</p>
    </article>
    <!-- Support -->
    <article class="card">
      <div class="row">
        <span class="badge" id="b6">Care</span>
      </div>
      <h3 id="f6">Support</h3>
      <p id="d6">Multilingual help with real-time chat.</p>
    </article>
  </section>

  <footer>
    <div id="footA">Priority: workers, seniors, small businesses, and people with disabilities.</div>
    <div id="footB" class="note" style="margin-top:6px">
      No KYC screen is shown here. See FAQ (chat) for our verification approach & security guidelines.
    </div>
  </footer>
</div>

<!-- Floating Chat / FAQ -->
<div class="chat">
  <button class="toggler" aria-expanded="false" aria-controls="faqPanel" title="FAQ / Chat">ðŸ’¬</button>
  <div class="panel" id="faqPanel" role="dialog" aria-modal="false" aria-label="FAQ and Chat">
    <header>
      <h4 id="faqTitle">FAQ Â· Security</h4>
      <a class="cta" href="#" id="openChatLink">Open Chat (demo)</a>
    </header>
    <div class="tabs" role="tablist">
      <button role="tab" id="tab1" aria-controls="sect1" aria-pressed="true">Security</button>
      <button role="tab" id="tab2" aria-controls="sect2" aria-pressed="false">KYC</button>
      <button role="tab" id="tab3" aria-controls="sect3" aria-pressed="false">General</button>
    </div>
    <div class="content">
      <section id="sect1" role="tabpanel" aria-labelledby="tab1">
        <details class="faq-item" open>
          <summary id="s1_q1">How do I protect my wallet from hacking?</summary>
          <div id="s1_a1" class="note">
            â€¢ Use a dedicated device for Pi and banking, with the latest OS and security patches.<br/>
            â€¢ Disable screen overlays & unknown sources; install apps only from trusted stores.<br/>
            â€¢ Avoid scanning arbitrary QR codes (feature is currently disabled by design).<br/>
            â€¢ Use strong, unique passcodes; enable biometric lock. Never share seed phrases.<br/>
            â€¢ On suspected compromise: migrate to a new wallet, revoke device sessions, rotate keys, and monitor chain explorers.
          </div>
        </details>
        <details class="faq-item">
          <summary id="s1_q2">What if my phone was hacked?</summary>
          <div id="s1_a2" class="note">
            â€¢ Immediately stop using QR flows; operate via a clean device.<br/>
            â€¢ Change all credentials from a trusted machine; backup & factory-reset the old device if needed.<br/>
            â€¢ Create a fresh wallet; move funds in small test transfers; keep audit notes of TXIDs.
          </div>
        </details>
      </section>

      <section id="sect2" role="tabpanel" aria-labelledby="tab2" hidden>
        <details class="faq-item" open>
          <summary id="s2_q1">How will KYC be verified without a KYC screen?</summary>
          <div id="s2_a1" class="note">
            We donâ€™t show a KYC screen here. Instead, verification follows a **phased approach**:<br/><br/>
            1) **Lightweight checks**: device reputation, IP risk, duplicate account heuristics, velocity & sanctions name screening.<br/>
            2) **Document + liveness (on-demand)**: when risk thresholds trigger, we request ID scan & selfie liveness via a secure flow (modular, replaceable provider).<br/>
            3) **Periodic re-verification**: risk-based cadence; privacy-preserving data retention and deletion schedule.<br/><br/>
            Result: users pass with minimal friction while high-risk sessions receive deeper checks.
          </div>
        </details>
        <details class="faq-item">
          <summary id="s2_q2">What data is stored?</summary>
          <div id="s2_a2" class="note">
            Only whatâ€™s necessary for compliance: hashed identifiers, risk scores, and audit logs.
            Sensitive documents are encrypted at rest; access is least-privileged and time-bounded.
          </div>
        </details>
      </section>

      <section id="sect3" role="tabpanel" aria-labelledby="tab3" hidden>
        <details class="faq-item" open>
          <summary id="s3_q1">Why English first?</summary>
          <div id="s3_a1" class="note">
            Product defaults to English. You can switch to Korean (KR) or Chinese (ä¸­æ–‡) from the top-right.
          </div>
        </details>
        <details class="faq-item">
          <summary id="s3_q2">Which features are required to win a hackathon?</summary>
          <div id="s3_a2" class="note">
            Clear UX, working demo, security-by-design, documented flows, and fast onboarding.
          </div>
        </details>
      </section>
    </div>
  </div>
</div>

<script>
  // i18n dictionary
  const L = {
    en:{
      brand:"WorldPiBank",
      main:"World Pi Bank",
      sub:"The worldâ€™s first digital bank",
      tag:"Built on the Pi ecosystem",
      b1:"Core", b2:"Commerce", b3:"Growth", b4:"Yield", b5:"Equity", b6:"Care",
      f1:"Send", d1:"Fast peer-to-peer transfers with low friction.",
      f2:"Pay", d2:"Simple in-store and online checkout flows.",
      f3:"Rewards", d3:"Earn points and bonuses for activity.",
      f4:"Staking", f4_small:"(Deposit Â· APY:%)", d4:"Flexible terms; clear, transparent rates.",
      f5:"UBI", d5:"Human-centric basic income experiences.",
      f6:"Support", d6:"Multilingual help with real-time chat.",
      footA:"Priority: workers, seniors, small businesses, and people with disabilities.",
      footB:"No KYC screen is shown here. See FAQ (chat) for our verification approach & security guidelines.",
      faqTitle:"FAQ Â· Security",
      s1_q1:"How do I protect my wallet from hacking?",
      s1_a1:null, // long text is in HTML above
      s1_q2:"What if my phone was hacked?",
      s1_a2:null,
      s2_q1:"How will KYC be verified without a KYC screen?",
      s2_a1:null,
      s2_q2:"What data is stored?",
      s2_a2:null,
      s3_q1:"Why English first?",
      s3_a1:null,
      s3_q2:"Which features are required to win a hackathon?",
      s3_a2:null,
      openChat:"Open Chat (demo)"
    },
    kr:{
      brand:"ì„¸ê³„íŒŒì´ì€í–‰",
      main:"ì„¸ê³„íŒŒì´ì€í–‰",
      sub:"ì„¸ê³„ìµœì´ˆì˜ ë””ì§€í„¸ ì€í–‰",
      tag:"íŒŒì´ ìƒíƒœê³„ë¥¼ ê¸°ë°˜ìœ¼ë¡œ",
      b1:"í•µì‹¬", b2:"ê²°ì œ", b3:"ì„±ìž¥", b4:"ìˆ˜ìµ", b5:"í˜•í‰", b6:"ì¼€ì–´",
      f1:"ì†¡ê¸ˆ", d1:"ë‚®ì€ ë¹„ìš©ìœ¼ë¡œ ë¹ ë¥¸ ê°œì¸ ê°„ ì´ì²´.",
      f2:"ê²°ì œ", d2:"ë§¤ìž¥/ì˜¨ë¼ì¸ ê²°ì œë¥¼ ê°„íŽ¸í•˜ê²Œ.",
      f3:"ë¦¬ì›Œë“œ", d3:"í™œë™ì— ë”°ë¥¸ í¬ì¸íŠ¸ì™€ ë³´ë„ˆìŠ¤.",
      f4:"ì˜ˆì¹˜", f4_small:"(ì˜ˆì¹˜ Â· ì´ìœ¨:%)", d4:"ìœ ì—°í•œ ê¸°ê°„, íˆ¬ëª…í•œ ê¸ˆë¦¬.",
      f5:"UBI", d5:"ì‚¬ëžŒ ì¤‘ì‹¬ì˜ ê¸°ë³¸ì†Œë“ ê²½í—˜.",
      f6:"ê³ ê°ì„¼í„°", d6:"ë‹¤êµ­ì–´ ì‹¤ì‹œê°„ ìƒë‹´ ì§€ì›.",
      footA:"ë…¸ë™ìžÂ·ë…¸ë…„ì¸µÂ·ì†Œìƒê³µì¸Â·ìž¥ì• ì¸ ìš°ì„ .",
      footB:"ì—¬ê¸°ì„œëŠ” KYC í™”ë©´ì„ í‘œì‹œí•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. ê²€ì¦ ë°©ì‹ê³¼ ë³´ì•ˆ ê°€ì´ë“œëŠ” FAQ(ì±„íŒ…)ë¥¼ í™•ì¸í•˜ì„¸ìš”.",
      faqTitle:"FAQ Â· ë³´ì•ˆ",
      s1_q1:"ì§€ê°‘ í•´í‚¹ì„ ì–´ë–»ê²Œ ì˜ˆë°©í•˜ë‚˜ìš”?",
      s1_a1:null,
      s1_q2:"íœ´ëŒ€í°ì´ í•´í‚¹ë˜ë©´ ì–´ë–»ê²Œ í•˜ì£ ?",
      s1_a2:null,
      s2_q1:"KYC í™”ë©´ ì—†ì´ ì–´ë–»ê²Œ ê²€ì¦í•˜ë‚˜ìš”?",
      s2_a1:null,
      s2_q2:"ì–´ë–¤ ë°ì´í„°ê°€ ì €ìž¥ë˜ë‚˜ìš”?",
      s2_a2:null,
      s3_q1:"ì™œ ì˜ì–´ê°€ ê¸°ë³¸ì¸ê°€ìš”?",
      s3_a1:null,
      s3_q2:"í•´ì»¤í†¤ì—ì„œ ì¤‘ìš”í•œ ìš”ì†ŒëŠ”?",
      s3_a2:null,
      openChat:"ì±„íŒ… ì—´ê¸°(ë°ëª¨)"
    },
    zh:{
      brand:"ä¸–ç•ŒPié“¶è¡Œ",
      main:"ä¸–ç•ŒPié“¶è¡Œ",
      sub:"å…¨çƒé¦–ä¸ªæ•°å­—é“¶è¡Œ",
      tag:"åŸºäºŽ Pi ç”Ÿæ€æž„å»º",
      b1:"æ ¸å¿ƒ", b2:"æ”¯ä»˜", b3:"æˆé•¿", b4:"æ”¶ç›Š", b5:"å…¬å¹³", b6:"æœåŠ¡",
      f1:"è½¬è´¦", d1:"ä½Žæ‘©æ“¦çš„ç‚¹å¯¹ç‚¹è½¬è´¦ã€‚",
      f2:"æ”¯ä»˜", d2:"é—¨åº—ä¸Žçº¿ä¸Šç»“ç®—æ›´ç®€å•ã€‚",
      f3:"å¥–åŠ±", d3:"å› å‚ä¸Žè€ŒèŽ·å¾—ç§¯åˆ†ä¸Žå¥–åŠ±ã€‚",
      f4:"è´¨æŠ¼", f4_small:"ï¼ˆå­˜æ¬¾ Â· å¹´åŒ–:%ï¼‰", d4:"çµæ´»æœŸé™ï¼Œè´¹çŽ‡é€æ˜Žã€‚",
      f5:"UBI", d5:"ä»¥äººä¸ºæœ¬çš„åŸºæœ¬æ”¶å…¥ä½“éªŒã€‚",
      f6:"å®¢æœ", d6:"å¤šè¯­è¨€å®žæ—¶å®¢æœã€‚",
      footA:"ä¼˜å…ˆå…³æ³¨åŠ³åŠ¨è€…ã€è€å¹´äººã€å°å¾®å•†æˆ·ä¸Žæ®‹éšœäººå£«ã€‚",
      footB:"æ­¤å¤„ä¸å±•ç¤º KYC é¡µé¢ã€‚è¯·æŸ¥çœ‹ FAQï¼ˆèŠå¤©ï¼‰äº†è§£éªŒè¯ä¸Žå®‰å…¨æ–¹æ¡ˆã€‚",
      faqTitle:"FAQ Â· å®‰å…¨",
      s1_q1:"å¦‚ä½•ä¿æŠ¤é’±åŒ…å…å—é»‘å®¢æ”»å‡»ï¼Ÿ",
      s1_a1:null,
      s1_q2:"æ‰‹æœºè¢«å…¥ä¾µæ—¶æ€Žä¹ˆåŠžï¼Ÿ",
      s1_a2:null,
      s2_q1:"æ²¡æœ‰ KYC é¡µé¢å¦‚ä½•å®ŒæˆéªŒè¯ï¼Ÿ",
      s2_a1:null,
      s2_q2:"ä¼šå­˜å‚¨å“ªäº›æ•°æ®ï¼Ÿ",
      s2_a2:null,
      s3_q1:"ä¸ºä½•é»˜è®¤ä½¿ç”¨è‹±æ–‡ï¼Ÿ",
      s3_a1:null,
      s3_q2:"å¤ºå† é»‘å®¢æ¾çš„å…³é”®è¦ç´ ï¼Ÿ",
      s3_a2:null,
      openChat:"æ‰“å¼€èŠå¤©ï¼ˆæ¼”ç¤ºï¼‰"
    }
  };

  const $ = s=>document.querySelector(s);
  const $$ = s=>document.querySelectorAll(s);

  function setLng(code){
    const t = L[code] || L.en;
    document.documentElement.lang = (code==='kr'?'ko':code);
    // header / hero
    $('#brandName').textContent = t.brand;
    $('#t_main').textContent = t.main;
    $('#t_sub').textContent = t.sub;
    $('#t_tag').textContent = t.tag;
    // features
    $('#b1').textContent=t.b1; $('#b2').textContent=t.b2; $('#b3').textContent=t.b3;
    $('#b4').textContent=t.b4; $('#b5').textContent=t.b5; $('#b6').textContent=t.b6;
    $('#f1').textContent=t.f1; $('#d1').textContent=t.d1;
    $('#f2').textContent=t.f2; $('#d2').textContent=t.d2;
    $('#f3').textContent=t.f3; $('#d3').textContent=t.d3;
    $('#f4').childNodes[0].nodeValue = t.f4+" "; // keep small note span
    $('#f4_small').textContent=t.f4_small;
    $('#d4').textContent=t.d4;
    $('#f5').textContent=t.f5; $('#d5').textContent=t.d5;
    $('#f6').textContent=t.f6; $('#d6').textContent=t.d6;
    // footer
    $('#footA').textContent=t.footA;
    $('#footB').textContent=t.footB;
    // faq headers
    $('#faqTitle').textContent=t.faqTitle;
    $('#s1_q1').textContent=t.s1_q1; $('#s1_q2').textContent=t.s1_q2;
    $('#s2_q1').textContent=t.s2_q1; $('#s2_q2').textContent=t.s2_q2;
    $('#s3_q1').textContent=t.s3_q1; $('#s3_q2').textContent=t.s3_q2;
    $('#openChatLink').textContent=t.openChat;

    // Update active button
    $$('.lng').forEach(b=>b.setAttribute('aria-pressed', String(b.dataset.lng===code)));
  }

  // init lang to EN (as requested)
  setLng('en');

  // language switches
  $$('.lng').forEach(btn=>{
    btn.addEventListener('click', ()=> setLng(btn.dataset.lng));
  });

  // chat/faq toggler
  const pan = $('#faqPanel');
  const tog = document.querySelector('.toggler');
  tog.addEventListener('click', ()=>{
    const open = pan.classList.toggle('open');
    tog.setAttribute('aria-expanded', String(open));
  });

  // tabs
  const tabs = [{btn:'#tab1', sec:'#sect1'},{btn:'#tab2',sec:'#sect2'},{btn:'#tab3',sec:'#sect3'}];
  tabs.forEach(({btn,sec},i)=>{
    const b=$(btn), s=$(sec);
    b.addEventListener('click', ()=>{
      tabs.forEach(({btn,sec})=>{
        $(btn).setAttribute('aria-pressed','false');
        $(sec).hidden=true;
      });
      b.setAttribute('aria-pressed','true'); s.hidden=false;
    });
  });

  // demo chat link
  $('#openChatLink').addEventListener('click', (e)=>{
    e.preventDefault();
    alert('Chat demo only (no backend). Security-first: QR disabled by design until device safety is guaranteed.');
  });

  // Optional: Persist last language
  const saved = localStorage.getItem('wpi.lang');
  if(saved){ setLng(saved); }
  $$('.lng').forEach(b=> b.addEventListener('click', ()=> localStorage.setItem('wpi.lang', b.dataset.lng)));
</script>
</body>
</html>
