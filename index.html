<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
  <title>WorldPiBank</title>

  <!-- cache + autosize guard -->
  <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
  <meta http-equiv="Pragma" content="no-cache" />
  <meta http-equiv="Expires" content="0" />
  <style>
    html { -webkit-text-size-adjust: 100%; text-size-adjust: 100%; }
    :root{
      --bg:#f6f7fb; --card:#ffffff; --txt:#1f2328; --muted:#6b7280;
      --primary:#6a0dad; --ring:#e8e4ff;
      --radius:12px; --shadow:0 6px 18px rgba(28,27,58,.06);
    }
    @media (prefers-color-scheme: dark){
      :root{ --bg:#0f1115; --card:#151821; --txt:#e5e7eb; --muted:#9aa3b2; --ring:#29224b;}
    }
    *{box-sizing:border-box; margin:0}
    body{
      font-family:system-ui,-apple-system,Segoe UI,Roboto,Apple SD Gothic Neo,Malgun Gothic,sans-serif;
      background:var(--bg); color:var(--txt); line-height:1.35;
    }
    .wrap{max-width:820px; margin:0 auto; padding:18px 14px 64px}

    /* top bar */
    .langbar{display:flex; justify-content:flex-end; align-items:center; gap:8px; margin-bottom:8px}
    .langbtn{border:1px solid var(--ring); background:#fff; padding:8px 10px; border-radius:10px; cursor:pointer; box-shadow:var(--shadow); font-weight:700; line-height:1}
    .langbtn[aria-pressed="true"]{background:#6a0dad; color:#fff; border-color:#6a0dad}

    /* hero */
    .hero{background:#6a0dad; color:#fff; border-radius:14px; padding:20px 16px; text-align:center; box-shadow:var(--shadow)}
    .hero h1{font-size:22px; line-height:1.2; margin-bottom:4px}
    .hero p{font-size:13px; opacity:.92}

    /* actions */
    .top-actions{display:flex; gap:8px; justify-content:center; flex-wrap:wrap; margin:12px 0 14px}
    .btn{background:#fff; color:var(--primary); border:1px solid #efe7ff;
      padding:9px 12px; border-radius:10px; text-decoration:none; font-weight:700; line-height:1; box-shadow:var(--shadow)}

    /* card */
    .card{background:var(--card); border-radius:var(--radius); padding:14px; border:1px solid var(--ring); box-shadow:var(--shadow); margin-top:12px}
    .card h3{font-size:16px; margin-bottom:8px}

    /* services */
    .services{display:grid; gap:8px}
    @media (min-width:600px){ .services{grid-template-columns: repeat(2, 1fr);} }
    @media (min-width:900px){ .services{grid-template-columns: repeat(3, 1fr);} }
    .svc{
      display:flex; align-items:center; gap:10px; padding:10px 12px;
      border:1px solid var(--ring); background:#fff; border-radius:10px; box-shadow:var(--shadow);
      min-height:52px;
    }
    .dot{width:18px; height:18px; border-radius:50%}
    .pay{background:#ffd166}.send{background:#84d2ff}.rewards{background:#ff9fb3}.ubi{background:#a3e48c}.support{background:#c9c9ff}
    .title{font-weight:800; margin-bottom:1px}
    .desc{font-size:12px; color:var(--muted)}
    footer{margin-top:14px; text-align:center; color:var(--muted); font-size:12px}
  </style>
</head>
<body>
  <div class="wrap">
    <!-- Language switch -->
    <div class="langbar">
      <button id="btn-ko" class="langbtn" aria-pressed="false">한국어</button>
      <button id="btn-en" class="langbtn" aria-pressed="true">English</button>
    </div>

    <!-- HERO -->
    <section class="hero">
      <h1 data-i18n="title">WorldPiBank</h1>
      <p data-i18n="subtitle">Payments · Send · Rewards · UBI — Optimized for Pi Browser</p>
    </section>

    <!-- Policy buttons -->
    <div class="top-actions">
      <a class="btn" href="Privacy.html" data-i18n="privacy">Privacy Policy</a>
      <a class="btn" href="Terms.html" data-i18n="terms">Terms of Use</a>
    </div>

    <!-- Services -->
    <section class="card">
      <h3 data-i18n="services">Services</h3>
      <div class="services">
        <div class="svc"><span class="dot pay"></span><div>
          <div class="title" data-i18n="pay_t">Payments</div>
          <div class="desc" data-i18n="pay_d">Merchant / Personal</div>
        </div></div>

        <div class="svc"><span class="dot send"></span><div>
          <div class="title" data-i18n="send_t">Send</div>
          <div class="desc" data-i18n="send_d">Wallet to wallet transfer</div>
        </div></div>

        <div class="svc"><span class="dot rewards"></span><div>
          <div class="title" data-i18n="rewards_t">Rewards</div>
          <div class="desc" data-i18n="rewards_d">Activity incentives</div>
        </div></div>

        <div class="svc"><span class="dot ubi"></span><div>
          <div class="title" data-i18n="ubi_t">UBI</div>
          <div class="desc" data-i18n="ubi_d">Community distribution</div>
        </div></div>

        <div class="svc"><span class="dot support"></span><div>
          <div class="title" data-i18n="support_t">Support</div>
          <div class="desc" data-i18n="support_d">Contact: ljw2358@naver.com</div>
        </div></div>
      </div>
    </section>

    <!-- About -->
    <section class="card">
      <h3 data-i18n="about">About</h3>
      <p data-i18n="about_d">WorldPiBank is a lightweight web app for the Pi ecosystem. It is optimized to display cleanly without stretching issues on Pi Browser or mobile browsers.</p>
    </section>

    <footer>© WorldPiBank</footer>
  </div>

  <!-- Simple i18n -->
  <script>
    const dict = {
      en: {
        title: "WorldPiBank",
        subtitle: "Payments · Send · Rewards · UBI — Optimized for Pi Browser",
        privacy: "Privacy Policy",
        terms: "Terms of Use",
        services: "Services",
        pay_t: "Payments", pay_d: "Merchant / Personal",
        send_t: "Send", send_d: "Wallet to wallet transfer",
        rewards_t: "Rewards", rewards_d: "Activity incentives",
        ubi_t: "UBI", ubi_d: "Community distribution",
        support_t: "Support", support_d: "Contact: ljw2358@naver.com",
        about: "About",
        about_d: "WorldPiBank is a lightweight web app for the Pi ecosystem. It is optimized to display cleanly without stretching issues on Pi Browser or mobile browsers."
      },
      ko: {
        title: "월드파이뱅크",
        subtitle: "결제 · 송금 · 보상 · UBI — Pi 브라우저 최적화",
        privacy: "개인정보 처리방침",
        terms: "이용 약관",
        services: "서비스",
        pay_t: "결제", pay_d: "상점 / 개인",
        send_t: "보내기", send_d: "지갑 간 전송",
        rewards_t: "보상", rewards_d: "활동 리워드",
        ubi_t: "기본소득(UBI)", ubi_d: "커뮤니티 분배",
        support_t: "고객센터", support_d: "문의: ljw2358@naver.com",
        about: "소개",
        about_d: "월드파이뱅크는 Pi 생태계를 위한 초경량 웹앱입니다. Pi Browser 및 모바일 브라우저에서 화면이 늘어지지 않도록 최적화했습니다."
      }
    };

    const $ = (sel) => document.querySelectorAll(sel);
    function setLang(lang){
      const d = dict[lang] || dict.en;
      $('[data-i18n]').forEach(el => {
        const k = el.getAttribute('data-i18n');
        if (d[k] !== undefined) el.textContent = d[k];
      });
      // Toggle button states
      document.getElementById('btn-ko').setAttribute('aria-pressed', lang==='ko');
      document.getElementById('btn-en').setAttribute('aria-pressed', lang==='en');
      // Persist
      localStorage.setItem('wpi_lang', lang);
      // Set html lang attribute
      document.documentElement.setAttribute('lang', lang);
    }

    // Initial language: localStorage -> browser -> default en
    const saved = localStorage.getItem('wpi_lang');
    const initial = saved || (navigator.language || navigator.userLanguage || 'en').toLowerCase().startsWith('ko') ? 'ko' : 'en';
    setLang(initial);

    // Handlers
    document.getElementById('btn-ko').addEventListener('click', ()=>setLang('ko'));
    document.getElementById('btn-en').addEventListener('click', ()=>setLang('en'));
  </script>
</body>
</html>
