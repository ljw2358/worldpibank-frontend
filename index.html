<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>ì„¸ê³„íŒŒì´ì€í–‰ Â· World Pi Bank</title>
<style>
  :root{
    --bg:#270043; /* ë°°ê²½ (ì§„ë³´ë¼) */
    --card:#4b1b85; /* ì¹´ë“œ */
    --sub:#d6c2ff; /* ë³´ì¡°í…ìŠ¤íŠ¸ */
    --login:#7f4d00; /* ë¡œê·¸ì¸(ë” ì–´ë‘¡ê²Œ) */
    --chat:#6f27a8; /* ì±„íŒ…ë²„íŠ¼ */
  }
  *{box-sizing:border-box}
  html,body{margin:0;background:var(--bg);color:#fff;font-family:Arial,Helvetica,sans-serif;text-align:center}

  header{padding:26px 16px 10px}
  header h1{margin:0;font-size:30px;line-height:1.1}
  header .sub{margin-top:8px;color:var(--sub);font-size:15px}

  /* âœ… ì¹´ë“œ ê°„ê²© 'ì•„ì£¼ ë„“ê²Œ' */
  .grid{
    display:grid;
    grid-template-columns:1fr 1fr;
    gap:44px; /* â† í¬ê²Œ ë²Œë¦¼ (ì´ì „ ëŒ€ë¹„ +16px ì´ìƒ) */
    max-width:440px;
    margin:22px auto 0;
    padding:0 16px;
  }
  .card{
    background:var(--card);
    border-radius:14px;
    padding:20px 16px;
    min-height:92px;
    display:flex;flex-direction:column;align-items:flex-start;justify-content:center;
    box-shadow:0 10px 22px rgba(0,0,0,.22);
  }
  .card b{font-size:18px}
  .card small{color:#eddfff;margin-top:6px}

  .login-wrap{display:flex;justify-content:center;margin:28px 0 100px}
  .login{
    background:var(--login);color:#fff;border:none;border-radius:14px;
    padding:12px 30px;font-size:18px;box-shadow:0 8px 18px rgba(0,0,0,.28);
  }

  /* âœ… QR: ì¢Œí•˜ë‹¨, ì±„íŒ…ë³´ë‹¤ ì•½ê°„ í¼ */
  .qr{
    position:fixed;left:14px;bottom:92px;
    width:80px;height:80px;object-fit:contain;z-index:10;
  }
  /* âœ… íŒŒì´ ë¡œê³ : ì •ì¤‘ì•™ í•˜ë‹¨, ë” í¬ê²Œ */
  .pi-logo{
    position:fixed;left:50%;bottom:22px;transform:translateX(-50%);
    width:128px;height:auto;opacity:.95;z-index:9;
  }
  /* ì±„íŒ… ë²„íŠ¼(ìš°í•˜ë‹¨) */
  .chat{
    position:fixed;right:18px;bottom:18px;
    width:60px;height:60px;border-radius:50%;background:var(--chat);
    display:flex;align-items:center;justify-content:center;font-size:20px;
    box-shadow:0 10px 22px rgba(0,0,0,.28);
  }

  /* ì‘ì€ í™”ë©´ì—ì„œë„ ê°„ê²© ì¶©ë¶„íˆ ìœ ì§€ */
  @media (max-width:360px){
    .grid{gap:40px}
    .qr{width:76px;height:76px}
    .pi-logo{width:120px}
  }
</style>
</head>
<body>

<header>
  <h1>ì„¸ê³„íŒŒì´ì€í–‰ Â· World Pi Bank</h1>
  <div class="sub">íŒŒì´ ë””ì§€í„¸ ì€í–‰ Â· Pi Digital Bank</div>
</header>

<main class="grid">
  <div class="card"><b>âœˆï¸ ê²°ì œ/ë³´ë‚´ê¸°</b><small>Payments / Transfers Â· Merchant Â· Personal</small></div>
  <div class="card"><b>ğŸ ë³´ìƒ</b><small>Rewards Â· Participation Incentives</small></div>
  <div class="card"><b>âœ‹ UBI</b><small>Universal Basic Income</small></div>
  <div class="card"><b>â˜ï¸ ê³ ê°ì„¼í„°</b><small>Customer Support Â· ljw2358@naver.com</small></div>
</main>

<div class="login-wrap">
  <button class="login">ğŸ”‘ Login</button>
</div>

<!-- ê°™ì€ í´ë”ì— íŒŒì¼ëª… ì •í™•íˆ ë‘ ê°œ í•„ìš”: qrcode.png, pi_logo.png -->
<img src="qrcode.png" alt="QR Code" class="qr" />
<img src="pi_logo.png" alt="Pi Logo" class="pi-logo" />

<div class="chat" aria-label="ì±„íŒ…">ğŸ’¬</div>
<!-- Pi Network JS SDK -->
<script src="https://sdk.minepi.com/pi-sdk.js"></script>
<script>
  // SDK ì´ˆê¸°í™”
  Pi.init({ version: "2.0" });

  // Login ë²„íŠ¼ ì´ë²¤íŠ¸ ì—°ê²°
  const loginBtn = document.querySelector(".login");
  if (loginBtn) {
    loginBtn.addEventListener("click", async () => {
      try {
        // í•„ìš”í•œ ê¶Œí•œë§Œ ìš”ì²­
        const scopes = ["payments", "username"];
        const authResult = await Pi.authenticate(scopes, onIncompletePaymentFound);

        // ë¡œê·¸ì¸ ì„±ê³µ ì‹œ ê²°ê³¼
        console.log("Authenticated:", authResult);

        // ë²„íŠ¼ í…ìŠ¤íŠ¸ ë³€ê²½
        loginBtn.innerText = "âœ… Logged in";
        loginBtn.disabled = true;

        // ì„œë²„ ì—°ë™ ì˜ˆì‹œ(ì¶”í›„ í•„ìš”ì‹œ)
        // await fetch("/api/session", {
        // method: "POST",
        // headers: { "Content-Type": "application/json" },
        // body: JSON.stringify({
        // token: authResult.accessToken,
        // uid: authResult.user.uid
        // })
        // });
      } catch (err) {
        console.error("Login failed:", err);
        alert("Login failed. Please try again.");
      }
    });
  }

  // ê²°ì œ ë¯¸ì™„ë£Œ ì²˜ë¦¬ ì½œë°±
  function onIncompletePaymentFound(payment) {
    console.log("Incomplete payment found:", payment);
    // TODO: ì„œë²„ ê²€ì¦ í›„ ê²°ì œ ì™„ë£Œ ì²˜ë¦¬
  }
</script>
</body>
</html>
