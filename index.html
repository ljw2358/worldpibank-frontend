<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
<title>World Pi Bank</title>
<meta name="theme-color" content="#6b4eff">
<style>
:root{--bg:#f7f5ff;--card:#fff;--primary:#6b4eff;--text:#111;--muted:#666;--shadow:0 10px 28px rgba(0,0,0,.08)}
*{box-sizing:border-box}body{margin:0;font-family:sans-serif;background:var(--bg);color:var(--text)}
.wrap{max-width:1000px;margin:0 auto;padding:16px}
.header{display:flex;align-items:center;justify-content:space-between;margin:6px 0 14px}
.brand{display:flex;align-items:center;gap:12px}
.logo{width:46px;height:46px;border-radius:50%;background:conic-gradient(from 0deg,#5a34ff,#6b4eff,#815cff);
display:flex;align-items:center;justify-content:center;color:#fff;font-weight:800;box-shadow:var(--shadow)}
.lang button{margin-left:6px;padding:6px 12px;border:1px solid #e3dcff;border-radius:10px;background:#fff;color:var(--primary);cursor:pointer}
.lang button.active{background:var(--primary);color:#fff}
.hero{background:linear-gradient(180deg,#fff,#efeaff);border-radius:22px;padding:22px;box-shadow:var(--shadow)}
.hero h1{margin:0 0 6px;font-size:28px}
.hero h2{margin:0;color:var(--muted);font-size:15px}
.grid{display:grid;gap:12px;margin:18px 0;grid-template-columns:1fr}
@media(min-width:520px){.grid{grid-template-columns:repeat(2,1fr)}}
@media(min-width:900px){.grid{grid-template-columns:repeat(3,1fr)} .hero h1{font-size:32px}}
.card{background:var(--card);border-radius:18px;padding:16px;box-shadow:var(--shadow)}
.t{font-weight:800;color:var(--primary)}.d{font-size:13px;color:var(--muted)}
.footer{display:flex;align-items:center;justify-content:space-between;gap:10px;flex-wrap:wrap;margin-top:6px}
.badge{font-size:12px;color:#fff;background:var(--primary);padding:6px 10px;border-radius:999px;box-shadow:var(--shadow)}
.note{font-size:12px;color:var(--muted)}
.installer{position:fixed;left:50%;bottom:14px;transform:translateX(-50%);background:#fff;border:1px solid #ddd;border-radius:14px;box-shadow:var(--shadow);padding:8px 12px;display:none;align-items:center;gap:10px;z-index:9999}
.installer.show{display:flex}.install-btn{background:var(--primary);color:#fff;border:none;border-radius:10px;padding:6px 12px;cursor:pointer}
</style>
</head>
<body>
<div class="wrap">
  <header class="header">
    <div class="brand"><div class="logo">π</div><div><div id="brandTitle">World Pi Bank</div><div id="brandSubtitle" class="note">The world's first digital bank (demo)</div></div></div>
    <div class="lang"><button data-lang="en" id="btn-en">EN</button><button data-lang="ko" id="btn-ko">KR</button><button data-lang="zh" id="btn-zh">中文</button></div>
  </header>
  <section class="hero">
    <h1 id="heroTitle">World Pi Bank</h1>
    <h2 id="heroSubtitle">The world's first digital bank — built on the Pi ecosystem</h2>
    <div class="grid">
      <div class="card"><div class="t" id="f1t">Send / Pay</div><div class="d" id="f1d">Fast P2P payments</div></div>
      <div class="card"><div class="t" id="f2t">Rewards</div><div class="d" id="f2d">Daily incentives</div></div>
      <div class="card"><div class="t" id="f3t">Deposit · APY 31.4%</div><div class="d" id="f3d">Flexible terms</div></div>
      <div class="card"><div class="t" id="f4t">UBI</div><div class="d" id="f4d">Basic income pilot</div></div>
      <div class="card"><div class="t" id="f5t">Support</div><div class="d" id="f5d">KYC & Security</div></div>
      <div class="card"><div class="t" id="f6t">Demo</div><div class="d" id="f6d">Static preview</div></div>
    </div>
    <div class="footer"><div class="badge" id="badge">APY 31.4% · Pilot</div><div class="note" id="slogan">“No labor? Basic income is still possible — with Pi.”</div></div>
  </section>
  <p class="note" style="margin:10px 4px 0"><span id="footNote">Chrome & Pi Browser supported. Add to Home Screen for app mode.</span></p>
</div>

<!-- 설치 배너 -->
<div class="installer" id="installer"><span id="installMsg">Install World Pi Bank?</span><button class="install-btn" id="installBtn">Install</button></div>

<script>
// 다국어
const dict={en:{brandTitle:"World Pi Bank",brandSubtitle:"The world's first digital bank (demo)",heroTitle:"World Pi Bank",heroSubtitle:"The world's first digital bank — built on the Pi ecosystem",f1t:"Send / Pay",f1d:"Fast P2P payments",f2t:"Rewards",f2d:"Daily incentives",f3t:"Deposit · APY 31.4%",f3d:"Flexible terms",f4t:"UBI",f4d:"Basic income pilot",f5t:"Support",f5d:"KYC & Security",f6t:"Demo",f6d:"Static preview",badge:"APY 31.4% · Pilot",slogan:"“No labor? Basic income is still possible — with Pi.”",footNote:"Chrome & Pi Browser supported. Add to Home Screen."},ko:{brandTitle:"월드파이은행",brandSubtitle:"세계최초의 디지털은행 (데모)",heroTitle:"월드파이은행",heroSubtitle:"파이 생태계 위에 구축된 세계최초의 디지털 은행",f1t:"송금 / 결제",f1d:"초간편 결제",f2t:"리워드",f2d:"일일 보상",f3t:"예치 · APY 31.4%",f3d:"유연한 금리",f4t:"UBI",f4d:"디지털 기본소득",f5t:"고객센터",f5d:"KYC & 보안",f6t:"데모",f6d:"정적 미리보기",badge:"APY 31.4% · 파일럿",slogan:"“노동 없이도 기본소득은 가능합니다 — 파이와 함께.”",footNote:"크롬 & 파이 브라우저 지원. 홈 화면에 추가하세요."},zh:{brandTitle:"世界Pi银行",brandSubtitle:"全球首家数字银行（演示）",heroTitle:"世界Pi银行",heroSubtitle:"基于 Pi 生态构建的全球首家数字银行",f1t:"转账/支付",f1d:"快捷支付",f2t:"奖励",f2d:"每日奖励",f3t:"存款 · 年化31.4%",f3d:"灵活利率",f4t:"UBI",f4d:"数字基本收入",f5t:"客服",f5d:"KYC与安全",f6t:"演示",f6d:"静态预览",badge:"年化31.4% · 试点",slogan:"“无须劳动? 通过 Pi 也能实现基本收入。”",footNote:"支持 Chrome 与 Pi 浏览器。请添加到主屏。"}};
function applyLang(code){const t=dict[code]||dict.en;Object.keys(t).forEach(id=>{const el=document.getElementById(id);if(el)el.textContent=t[id]});document.querySelectorAll('.lang button').forEach(b=>b.classList.toggle('active',b.dataset.lang===code));localStorage.setItem('lang',code);}
let initial=(localStorage.getItem('lang')||navigator.language||'en').toLowerCase();applyLang(initial.startsWith('ko')?'ko':initial.startsWith('zh')?'zh':'en');
document.getElementById('btn-en').onclick=()=>applyLang('en');document.getElementById('btn-ko').onclick=()=>applyLang('ko');document.getElementById('btn-zh').onclick=()=>applyLang('zh');

// 매니페스트 동적 생성
const manifest={name:"World Pi Bank",short_name:"WorldPiBank",start_url:"./",display:"standalone",background_color:"#ffffff",theme_color:"#6b4eff",icons:[{src:"data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 512 512'><rect rx='96' ry='96' width='512' height='512' fill='%236b4eff'/><text x='50%' y='60%' text-anchor='middle' font-size='260' fill='white'>π</text></svg>",sizes:"512x512",type:"image/svg+xml",purpose:"maskable any"}]};
const blob=new Blob([JSON.stringify(manifest)],{type:"application/manifest+json"});const url=URL.createObjectURL(blob);const link=document.createElement("link");link.rel="manifest";link.href=url;document.head.appendChild(link);

// SW 등록
const swBlob=new Blob([`self.addEventListener('install',e=>{e.waitUntil(caches.open('wpi').then(c=>c.addAll(['./'])))});self.addEventListener('fetch',e=>{e.respondWith(caches.match(e.request).then(r=>r||fetch(e.request)))})`],{type:"text/javascript"});
const swURL=URL.createObjectURL(swBlob);if('serviceWorker'in navigator){navigator.serviceWorker.register(swURL);}

// 설치 배너
let deferredPrompt;const installer=document.getElementById('installer');const installBtn=document.getElementById('installBtn');
window.addEventListener('beforeinstallprompt',e=>{e.preventDefault();deferredPrompt=e;installer.classList.add('show');});
installBtn.addEventListener('click',async()=>{if(!deferredPrompt)return;deferredPrompt.prompt();const {outcome}=await deferredPrompt.userChoice;if(outcome==='accepted'){installer.classList.remove('show');deferredPrompt=null;}});
</script>
</body>
</html>
